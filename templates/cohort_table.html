<table>
    <tr>
        <th>Column</th>
        {% for col, details in entry.columns.items() %}
        <td>{{ col }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th>Description</th>
        {% for col, details in entry.columns.items() %}
        <td>{{ details.label }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th>Type</th>
        {% for col, details in entry.columns.items() %}
        <td>{{ details.type }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th>Labels</th>
        {% for col, details in entry.columns.items() %}
        <td>
            {% if details.value_labels %}
            <ul>
                {% for key, value in details.value_labels.items() %}
                <li>{{ key }}: {{ value }}</li>
                {% endfor %}
            </ul>
            {% else %}
            {% if details.type == 'checkbox' %}
            Multiple selections possible
            {% else %}
            N/A
            {% endif %}
            {% endif %}
        </td>
        {% endfor %}
    </tr>
</table>

<div id="combined-{{ entry.domain }}-{{ entry.item }}" class="combined-distribution">
    <table class="graph-table">
        <tr>
            <td style="width: 33.3%;">&nbsp;</th>
            <td style="width: 33.3%;">&nbsp;</th>
            <td style="width: 33.3%;">&nbsp;</th>
        </tr>
        <tr>
            {% for col, dist in entry.distributions_all.items() %}
            <td style="width: 33.3%; vertical-align: top;">
                {% if dist.graph %}
                <div class="graph-container">
                    {{ dist.graph | safe }}
                </div>
                {% else %}
                <p>N/A</p>
                {% endif %}
            </td>
        </tr>
        <tr>
            <td>
                {% if dist.description is mapping %}
                <h4>Summary Statistics</h4>
                <ul>
                    <li>Count: {{ dist.description.get('count', 'N/A') }}</li>
                    <li>Mean: {{ dist.description.get('mean', 'N/A') }}</li>
                    <li>Std: {{ dist.description.get('std', 'N/A') }}</li>
                    <li>Min: {{ dist.description.get('min', 'N/A') }}</li>
                    <li>25%: {{ dist.description.get('25%', 'N/A') }}</li>
                    <li>50%: {{ dist.description.get('50%', 'N/A') }}</li>
                    <li>75%: {{ dist.description.get('75%', 'N/A') }}</li>
                    <li>Max: {{ dist.description.get('max', 'N/A') }}</li>
                </ul>
                {% elif dist.counts is mapping %}
                <h4>Value Counts</h4>
                <ul>
                    {% for key, value in dist.counts.items() %}
                    <li>{{ key }}: {{ value }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <p>N/A</p>
                {% endif %}
            </td>
            {% endfor %}
            <td style="width: 33.3%; vertical-align: top;">&nbsp;</td>
            <td style="width: 33.3%; vertical-align: top;">&nbsp;</td>
        </tr>
    </table>
</div>

<div id="by-cohort-{{ entry.domain }}-{{ entry.item }}" class="by-cohort-distribution hidden">
    {% for col in entry.columns.keys() %}
    <table class="graph-table">
        <tr>
            {% for cohort in entry.distributions_by_cohort.keys() %}
            <th style="width: 33.3%;">{{ cohort }}</th>
            {% endfor %}
        </tr>
        <tr>
            {% for cohort, distro in entry.distributions_by_cohort.items() %}
            <td>
                {% if distro[col] and distro[col].graph %}
                <div class="graph-container">
                    {{ distro[col].graph | safe }}
                </div>
                {% else %}
                <p>N/A</p>
                {% endif %}
            </td>
            {% endfor %}
        </tr>
        <tr>
            {% for cohort, distro in entry.distributions_by_cohort.items() %}
            <td>
                {% if distro[col] %}
                {% if distro[col].description is mapping %}
                <h4>Summary Statistics</h4>
                <ul>
                    <li>Count: {{ distro[col].description.get('count', 'N/A') }}</li>
                    <li>Mean: {{ distro[col].description.get('mean', 'N/A') }}</li>
                    <li>Std: {{ distro[col].description.get('std', 'N/A') }}</li>
                    <li>Min: {{ distro[col].description.get('min', 'N/A') }}</li>
                    <li>25%: {{ distro[col].description.get('25%', 'N/A') }}</li>
                    <li>50%: {{ distro[col].description.get('50%', 'N/A') }}</li>
                    <li>75%: {{ distro[col].description.get('75%', 'N/A') }}</li>
                    <li>Max: {{ distro[col].description.get('max', 'N/A') }}</li>
                </ul>
                {% elif distro[col].counts is mapping %}
                <h4>Value Counts</h4>
                <ul>
                    {% for key, value in distro[col].counts.items() %}
                    <li>{{ key }}: {{ value }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                {% else %}
                <p>N/A</p>
                {% endif %}
            </td>
            {% endfor %}
        </tr>
    </table>
    {% endfor %}
</div>

